<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Dashboard</title>

		<!-- Import Bootstrap -->
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
		/>

		<!-- Import fonts awesome stylesheet -->
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
			integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
			crossorigin="anonymous"
			referrerpolicy="no-referrer"
		/>

		<!-- Import external style -->
		<link rel="stylesheet" href="styles/admin.css" />
	</head>
	<body>
		<!-- Start container for navbar -->
		<header class="container-fluid sticky-top bg-white p-0 shadow">
			<nav class="navbar navbar-expand-lg navbar-light bg-white">
				<div class="container-fluid">

						<!-- Logo -->
						<a class="navbar-brand d-flex align-items-center ms-2" href="#">
							<img
								width="80px"
								height="auto"
								src="../../img/icons-logos/granola-logo.png"
								alt="Logo"
							/>
							<span class="h2 mb-0 fw-semibold ms-2">Granola Cafe</span>
						</a>

						<!-- Profile -->
						<div class="ms-auto dropdown d-flex">
							<img
									class="me-2"
									width="40px"
									height="auto"
									src="images/avatar.png"
									alt="Avatar Picture"
								/>
							<a
								href="#"
								class="profile d-flex align-items-center dropdown-toggle"
								data-bs-toggle="dropdown"
								id="currentuser"
							>
							</a>
							<!-- Dropdown menu -->
							<div id="dropdownNav">
								<!-- Dynamic dropdown navigation menu goes here -->
							</div>
						</div>
				</div>
			</nav>	
		</header>
		<!-- End container for navbar -->

		<!-- Main Section -->
		<main class="container-fluid p-0">
			<div class="row justify-content-center">
				<!-- Start column for Sidebar -->
				<div class="col-3 border-bottom border-end d-none d-md-block">
					
					<div id="sidebarNav" class= "sidebar-menu flex-shrink-0 p-3 w-100">
						<!-- Dynamic sidebar navigation menu goes here -->
					</div>
				</div>
				<!-- End column for sidebar -->

				<!-- Start column for content area  -->
				<div class="col-9 pt-4 pe-4">
					<div class="h-100 border rounded-4 p-4">
						<h2>Dashboard</h2>
						<hr>
						            <!-- Main Content - adjusted width -->
									<div class="col-10">
										<!-- Rest of the content remains the same -->

						
										<!-- Stats Cards -->
										<div class="row">
											<div class="col-md-3">
												<div class="stats-card">
													<div class="d-flex justify-content-between">
														<div>
															<div class="text-muted">Total Sales</div>
															<div class="stats-value"><span id="total-sales"></span></div>
														</div>
														<i class="fas fa-dollar-sign fa-2x text-success"></i>
													</div>
												</div>
											</div>
											<div class="col-md-3">
												<div class="stats-card">
													<div class="d-flex justify-content-between">
														<div>
															<div class="text-muted">Total Orders</div>
															<div class="stats-value"><span id="total-quantity"></span></div>
														</div>
														<i class="fas fa-receipt fa-2x text-primary"></i>
													</div>
												</div>
											</div>
											<div class="col-md-3">
												<div class="stats-card">
													<div class="d-flex justify-content-between">
														<div>
															<div class="text-muted">Avg Order Value</div>
															<div class="stats-value"><span id="average-order-value"></span></div>
														</div>
														<i class="fas fa-chart-line fa-2x text-info"></i>
													</div>
												</div>
											</div>
											<div class="col-md-3">
												<div class="stats-card">
													<div class="d-flex justify-content-between">
														<div>
															<div class="text-muted">Processing Time</div>
															<div class="stats-value">25 min</div>
														</div>
														<i class="fas fa-clock fa-2x text-warning"></i>
													</div>
												</div>
											</div>
										</div>
						
										<!-- Charts Row -->
										<div class="row mt-4">
											<div class="col-md-8">
												<div class="chart-container">
													<h5>Daily Performance - Hourly Sales</h5>
													<canvas id="singleLineChart"></canvas>
												</div>
											</div>
											<div class="col-md-4">
												<div class="chart-container text-center">
													<h5>Popular Categories</h5>
													<canvas id="simplePieChart"></canvas>
												</div>
											</div>
										</div>
						
										<!-- Orders Table -->
										<div class="row mt-4">
											<div class="col-12">
												<div id="order-container">
												<!-- To append Order Items here -->
												</div>
											</div>
										</div>

											<!-- Modal -->
											<div
											class="modal fade p-4 py-md-5"
											tabindex="-1"
											role="dialog"
											id="modalSheet"
										>
											<div class="modal-dialog modal-dialog-centered" role="document">
												<div class="modal-content rounded-4 shadow">
													<div class="modal-header border-bottom-0">
														<h1 class="modal-title fs-2">
															<!-- Dish Name Goes Here -->
														</h1>
														<button
															type="button"
															class="btn-close"
															data-bs-dismiss="modal"
														></button>
													</div>
													<div class="modal-body py-0">
														<img alt="" class="img-thumbnail mb-3" id="modalDishImage" />
														<p id="modal-body-description">
															<!-- Dish Description Goes Here -->
														</p>
													</div>
													<div
														class="modal-footer flex-column align-items-stretch w-100 gap-2 pb-3 border-top-0"
													>
														
														<button id="btnreciept" type="button" class="upload-btn btn btn-sm p-2 me-3">View Reciept</button>
														<button id="btndelete" type="button" class="upload-btn btn btn-sm p-2 me-3">Delete</button>
														<button type="button" class="btn btn-sm p-2 me-3 btn-secondary" data-bs-dismiss="modal">
															Close
														</button>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
					</div>
				</div>
				<!-- End column for content area -->
			</div>
		</main>

		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

		<script src="script/const.js"></script>
		<script src="script/navController.js"></script>
		<script src="script/sidebarController.js"></script>
		<script src="script/loader.js"></script>
		<script src="script/auth.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <script>
        window.onload = function() {
            // Charts code remains the same
            const singleLineCtx = document.getElementById('singleLineChart');
            if (singleLineCtx) {
                new Chart(singleLineCtx, {
                    type: 'line',
                    data: {
                        labels: ['7AM', '8AM', '9AM', '10AM', '11AM', '12PM', '1PM', '2PM', '3PM', '4PM', '5PM', '6PM', "7PM"],
                        datasets: [{
                            label: 'Sales ($)',
                            data: [0, 50, 120, 150, 180, 240, 220, 300, 380],
                            borderColor: '#4e73df',
                            borderWidth: 2,
                            pointRadius: 3,
                            fill: false
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            }

            const pieCtx = document.getElementById('simplePieChart');
            if (pieCtx) {
                new Chart(pieCtx, {
                    type: 'pie',
                    data: {
                        labels: ['Drinks', 'Foods', 'Desserts', 'Sides'],
                        datasets: [{
                            data: [45, 30, 15, 10],
                            backgroundColor: ['#4e73df', '#1cc88a', '#36b9cc', '#f6c23e']
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom'
                            }
                        }
                    }
                });
            }
        };
		</script>
		<script src="/admin_app/script/dashboard.js"></script>
	</body>
</html>
